/*******************************************************************************
********************************************************************************
********************************************************************************
***	   itaca-ng-filters														 
***    Copyright (C) 2016   Chroma Italy Hotels srl	 
***                                                                          
***    This program is free software: you can redistribute it and/or modify  
***    it under the terms of the GNU General Public License as published by  
***    the Free Software Foundation, either version 3 of the License, or     
***    (at your option) any later version.                                   
***                                                                          
***    This program is distributed in the hope that it will be useful,       
***    but WITHOUT ANY WARRANTY; without even the implied warranty of        
***    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         
***    GNU General Public License for more details.                          
***                                                                          
***    You should have received a copy of the GNU General Public License     
***    along with this program.  If not, see <http://www.gnu.org/licenses/>. 
********************************************************************************
********************************************************************************
*******************************************************************************/
!function(){"use strict";angular.module("itaca.filters",["ngMaterial","itaca.utils","itaca.services","isoCurrency"])}(),function(){"use strict";angular.module("itaca.filters").filter("abs",function(){return function(t){return Math.abs(t)}})}(),function(){"use strict";function t(t,n){return function(e,r,i){var u=null;if(e){u="<span>";var a=e.type||"PRICE",l=_.isNil(e.finalAmount)?e.initialAmount:e.finalAmount;if(!l&&i)return null;l=l||0,r&&e.initialAmount&&("PRICE"==a&&e.initialAmount>l?u+='<small class="text-gray-light text-striked">'+n(e.initialAmount)+"</small>&nbsp;":"PERCENTAGE"==a&&e.initialAmount<l&&(u+='<small class="text-gray-light text-striked">'+e.initialAmount+"%</small>&nbsp;")),u+="<span>","PRICE"==a?u+=n(l):"PERCENTAGE"==a&&(u+=l+"%"),u+="</span></span>"}return t.trustAsHtml(u)}}t.$inject=["$sce","chCurrencyFilter"],angular.module("itaca.filters").filter("chAmount",t)}(),function(){"use strict";function t(t){return function(n){return t.beautifyCardPan(n)}}t.$inject=["ReservationUtils"],angular.module("itaca.filters").filter("beautifyCard",t)}(),function(){"use strict";angular.module("itaca.filters").filter("capitalize",function(){return function(t,n){var e=n?/([^\W_]+[^\s-]*) */g:/([^\W_]+[^\s-]*)/;return t?t.replace(e,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}):""}})}(),function(){"use strict";angular.module("itaca.filters").filter("ceil",function(){return function(t){return Math.ceil(t)}})}(),function(){"use strict";function t(t,n,e,r){var i=function(i,u,a){a=a||r.defaultCurrency||"EUR",u=u||e.current.iso||"EUR";var l=n.getCurrencyByCode(u);_.isNil(l)&&(l={iso:"EUR",symbol:"€",rate:1,fraction:2});var o;o=l.symbol?"$"==l.symbol&&"USD"!=u?l.symbol+u:"¥"==l.symbol&&"JPY"!=u?l.symbol+u:l.symbol:u;var f=1;if(u!=a){var s=e.getExchangeForCurrencyCached(a);s?f=_.find(s.rates,function(t,n){return n==u}):e.getExchangeForCurrency(a)}return i*=f,t("currency")(i,o,l.fraction)};return i.$stateful=!0,i}t.$inject=["$filter","iso4217","Currency","AppOptions"],angular.module("itaca.filters").filter("chCurrency",t)}(),function(){"use strict";angular.module("itaca.filters").filter("float",function(){return function(t,n){return parseFloat(t).toFixed(angular.isNumber(n)?n:2)}})}(),function(){"use strict";angular.module("itaca.filters").filter("floor",function(){return function(t){return Math.floor(t)}})}(),function(){"use strict";function t(t,n,e){return function(r,i,u){if(u)u=Number(u);else if(e.hotel&&e.hotel.addressInfo&&e.hotel.addressInfo.timeZoneId){var a=moment.tz.zone(e.hotel.addressInfo.timeZoneId);u=a?60*a.offset(Date.now()):e.defaultOffset}else u=e.defaultOffset;return t(r,i,n.secondsToOffsetString(u))}}t.$inject=["offsetDateFilter","DateUtils","AppOptions"],angular.module("itaca.filters").filter("hotelDate",t)}(),function(){"use strict";function t(t){return function(n){return t.maskCardPan(n)}}t.$inject=["ReservationUtils"],angular.module("itaca.filters").filter("maskCard",t)}(),function(){"use strict";angular.module("itaca.filters").filter("mask",function(){return function(t){return t.replace(/.(?=.{4,}$)/g,"*")}})}(),function(){"use strict";function t(t,n,e){return function(r,i,u){return u=Number(u||e.defaultOffset),t(r,i,n.secondsToOffsetString(u))}}t.$inject=["dateFilter","DateUtils","AppOptions"],angular.module("itaca.filters").filter("offsetDate",t)}(),function(){"use strict";angular.module("itaca.filters").filter("round",function(){return function(t){return Math.round(t)}})}(),function(){"use strict";angular.module("itaca.filters").filter("timeDiff",function(){return function(t,n,e,r){if(n=n||new Date,r){var i=moment(t).diff(n);return Math.ceil(moment.duration(i).as(e))}return moment(t).diff(n,e)}})}(),function(){"use strict";angular.module("itaca.filters").filter("timeLeft",function(){return function(t,n,e,r){if(r){var i=moment.duration(moment(t).diff(moment())).as(n);return moment.duration(Math.ceil(i),n).humanize(e)}return moment.duration(moment(t).diff(moment(),n),n).humanize(e)}})}(),function(){"use strict";function t(t){return function(){var n=[].splice.call(arguments,1,1)[0];return t(n).apply(null,arguments)}}t.$inject=["$filter"],angular.module("itaca.filters").filter("useFilter",t)}(),function(){"use strict";function t(t){return function(n,e){return t(n,e,"UTC")}}t.$inject=["dateFilter"],angular.module("itaca.filters").filter("utcDate",t)}();